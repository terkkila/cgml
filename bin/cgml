#!/usr/bin/python

import sys

from cgml.argparse_actions import giveArgs
from cgml.main import resolveOutStream,resolveModel,startTrainingRoutine,startTestingRoutine

if __name__ == "__main__":

    infStream = sys.stderr

    args = giveArgs(log = infStream)
 
    outStream = resolveOutStream(args)

    model = resolveModel(args,log = infStream)

    if args.trainData or args.trainDataStream:
        startTrainingRoutine(model,args,log = infStream)

    if args.save:
    
        infStream.write('Saving model to file: ' + args.save + '\n')

        model.saveToFile(args.save)

    if args.testData and outStream:
        startTestingRoutine(model,args,outStream, log = infStream)






